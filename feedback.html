<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback</title>
    <link rel="stylesheet" href="CSS/style.css">

    <style>
      main {
        display: block;
        padding: 138px 96px;
        background-color: #f3f3f3;
      }
      .block {
        background: #fff;
        padding: 32px;
        border-radius: 12px;
        line-height: 1.6;
        overflow: hidden;
        margin-bottom: 32px;
        position: relative;
        box-shadow: 0 10px 15px -3px rgba(255, 193, 7, 0.4), 0 4px 6px -2px rgba(255, 193, 7, 0.8);
      }
      .block img {
        width: 100%;
        margin-bottom: 48px;
      }
      .asterisk {
        color: red;
        font-size: 20px;
        font-weight: 600;
      }
      .title {
        display: flex;
        justify-content: center;
        font-weight: 500;
        font-size: 20px;
        color: #000;
        margin-bottom: 20px;
      }
      .block h1 {
        font-size: 32px;
        margin-top: -8px;
        margin-bottom: 20px;
        font-weight: 600;
        color: #000;
      }
      .block p {
        margin: 8px 0 24px;
      }
      .form-group {
        display: block;
        margin-top: 24px;
        line-height: 1;
        white-space: nowrap;
      }
      .form-group label {
        font-weight: 500;
        display: block;
        color: #000;
        font-size: 14px;
        margin-top: 16px;
        margin-bottom: 6px;
        white-space: normal;
      }
      .form-group input[type=text], .form-group input[type=tel], .form-group input[type=email], .form-group input[type=date], .form-group select, .form-group textarea {
        background: #f3f3f3;
        font-size: 14px;
        border-radius: 4px;
        border: 1px solid #000;
        border-bottom: 2px solid #000;
        width: 98%;
        max-width: 98%;
        padding: 12px;
        height: 44px;
        appearance: none;
        transition: all .15s ease-out;
      }
      .preview {
        margin-top: 32px;
      }
      .popup-container {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        width: 500px;
        height: auto;
        transform: translate(-50%, -50%);
        background-color: #f3f3f3;
        border: 1000px solid #0b0c0d;
        padding: 30px;
        z-index: 2;
      }
      .popup-content {
          max-width: 400px;
      }
      .popup-content .close {
          font-size: 32px;
      }
      .close {
          position: absolute;
          top: 10px;
          right: 10px;
          cursor: pointer;
      }

      .close:hover,
      .close:focus {
        color: #ffc107;
        text-decoration: none;
        cursor: pointer;
      }

 
    </style>
</head>

<body>

   <!--Header-->
   <header>
    <!--Navigation Bar-->
    <nav id="navbar">
      <a href="home.html" ><img class="logo" src="Images/logo.png" alt="logo"></a>
        <ul>
          <li class="hover-effect"><a href="gallery.html">GALLERY</a></li>
          <li class="hover-effect"><a href="shop.html">SHOP</a></li>
          <li class="hover-effect"><a href="team.html">TEAM</a></li>
          <li class="hover-effect active"><a href="feedback.html">FEEDBACK</a></li>
          <li class="hover-effect"><a href="sitemap.html">SITEMAP</a></li>
          <li class="hover-effect"><a href="profile.html">PROFILE</a></li>
        </ul>
    </nav>
  </header>

  <!-- Scroll Up Button-->
  <div id="scrollUpBtn" class="scroll-up-btn">
    <img src="Svg/arrow-up-solid.svg" alt="Scroll Up">
  </div>

  <main> <!--mailto:-->
    <form method="POST" id="form">
        <div class="demo-page">
          <div class="demo-page-content">
            
            <section class="block">
              <img src="Images/header.jpg" alt="Header Image">
              <h1 class="title">NUTRIZENITH: FeedBack Form</h1>
              <p>Your feedback matters to us! We highly value your opinions and insights as they guide us in enhancing our services and making your experience with us exceptional. Whether you have suggestions for improvement, compliments to share, or concerns to address, we're all ears. Your feedback fuels our commitment to continuous improvement and customer satisfaction. Thank you for taking the time to help us serve you better!</p>
            </section>
            
            <section class="block">
              <h1>Please enter the the details below.</h1>
        
              <div id="userInput" class="form-group">
                
                <label for="fullname">Name <span class="asterisk">*</span></label>
                <input type="text" id="fullname" name="fullname" placeholder="Name" value="" required>

                <label for="emailaddress">Email <span class="asterisk">*</span></label>
                <input type="email" id="emailaddress" name="emailaddress" placeholder="Email" value="" required>

                <label for="ratings">Ratings <span class="asterisk">*</span></label>
                <select id="ratings" required>
                  <option value selected="selected" >-- Please select a value --</option>
                  <option>0 Star</option>
                  <option>1 Star</option>
                  <option>2 Stars</option>
                  <option>3 Stars</option>
                  <option>4 Stars</option>
                  <option>5 Stars</option>
                </select>

                <label for="category">Category <span style="display: none;">.</span></label>
                <select id="category">
                  <option value selected="selected">-- Please select a category --</option>
                  <option>General Queries</option>
                  <option>Awareness and Education</option>
                  <option>Food Distribution and Accessibility</option>
                  <option>Community Engagement</option>
                  <option>Policy and Advocacy</option>
                  <option>Technology and Innovation</option>
                  <option>Nutrition and Health</option>
                  <option>Sustainability and Resilience</option>
                  <option>Partnerships and Collaboration</option>
                  <option>Other</option>
                </select>

                <label for="message">Message <span class="asterisk">*</span></label>
                <textarea id="message" name="message" rows="5" placeholder="Your message" required></textarea>
              </div>
            </section>

            <button type="submit" id="submitbutton"><span>Submit</span></button>
            <button type="button" id="previewButton"><span>Preview</span></button>
          </div>
        </div>
    </form>


    <div id="previewContainer" class="popup-container">
      <div class="popup-content">
        <span class="close" onclick="closepreview()">&times;</span>
        <div id="previewContent">
        </div>
      </div>
    </div>

    <!-- Popup container -->
<div id="confirmationContainer" class="popup-container">
  <div class="popup-content">
    <p>Thank you for your submission! Your feedback has been received.</p>
  </div>
</div>


  </main>

        <!--Footer-->
        <footer>
          <section class="footer-content">
            <div class="footer-top">
              <img class="logo" src="Images/logo.png" alt="logo">
              <div class="website">
                <p>For more infomation <span><a href="https://sdgs.un.org/goals/goal2">click here</a></span></p>
              </div>
              <div class="page-editor">
                <p>Designed by <span><a href="editor-s2.html" target="_blank">Thanushan</a></span></p>
              </div>
              <nav>
                <ul>
                  <li class="hover-effect "><a href="gallery.html">GALLERY</a></li>
                  <li class="hover-effect"><a href="shop.html">SHOP</a></li>
                  <li class="hover-effect"><a href="team.html">TEAM</a></li>
                  <li class="hover-effect"><a href="feedback.html">FEEDBACK</a></li>
                  <li class="hover-effect"><a href="sitemap.html">SITEMAP</a></li>
                  <li class="hover-effect"><a href="profile.html">PROFILE</a></li>
                </ul>
              </nav>
            </div>
            <div class="separator"></div>
          <div class="footer-bottom">
            <p>&copy; NUTRIZENITH</p>
            <!--Socials-->
            <ul class="socials">
              <li class="hover-social">
                <a href="https://www.facebook.com/SustDev" target="_blank"><img src="Svg/facebook.svg" alt="facebook"></a>
              </li>
              <li class="hover-social">
                <a href="https://www.youtube.com/user/uncsd2012/featured" target="_blank"><img src="Svg/youtube.svg" alt="youtube"></a>
              </li>
              <li class="hover-social">
                <a href="https://twitter.com/SustDev" target="_blank"><img src="Svg/x-twitter.svg" alt="x-twitter"></a>
              </li>
              <li class="hover-social">
                <a href="https://www.instagram.com/sdgaction/?next=%2Funarcoirisllenode%2Ffeed%2F&hl=nb" target="_blank"><img src="Svg/instagram.svg" alt="instagram"></a>
              </li>
            </ul>
          </div>
      </section>
    </footer>


  <script>
  window.addEventListener("scroll", function() {
      var navbar = document.getElementById("navbar");
      if (window.pageYOffset > 0) {
          navbar.style.backgroundColor = "rgba(0, 0, 0, 0.9)";
      } else {
          navbar.style.backgroundColor = "rgba(0, 0, 0, 1)";
      }
  });
  const scrollUpBtn = document.getElementById('scrollUpBtn');
  window.addEventListener('scroll', () => {
    if (window.scrollY > 300) { 
      scrollUpBtn.classList.add('show');
    } else {
      scrollUpBtn.classList.remove('show');
    }
  });
  scrollUpBtn.addEventListener('click', () => {
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  });
  </script>


  <script>
 /* Preview */
 document.addEventListener("DOMContentLoaded", function() {
const previewBtn = document.getElementById("previewButton");
previewBtn.addEventListener("click", openpreview);

function openpreview() {
  displayPreview();

  document.getElementById("previewContainer").style.display = "block";

  
}



function displayPreview() {
  const userInputContainer = document.createElement('div');
  const inputs = document.querySelectorAll('.form-group input, .form-group select, .form-group textarea');

  inputs.forEach((input) => {
    const inputLabel = input.closest('.form-group').querySelector('label[for="' + input.id + '"]');
    const labelText = inputLabel ? inputLabel.textContent.trim().slice(0, -1) : '';
    const userInput = input.value.trim();

    if (labelText && userInput !== '') {
      const userInputElement = document.createElement('div');
      userInputElement.textContent = `${labelText}: ${userInput}`;
      userInputContainer.appendChild(userInputElement);
    }
  });

  const previewContent = document.getElementById('previewContent');
  previewContent.innerHTML = '';
  previewContent.innerHTML = "Close to Edit/Submit." + "<br>"+"<br>";
  previewContent.appendChild(userInputContainer);
}

document.getElementById("previewContainer").addEventListener("click", function(event) {
  if (event.target.classList.contains('close')) {
    closepreview();
  }
});

function closepreview() {
  document.getElementById("previewContainer").style.display = "none";

}
/*Automated Email*/
document.getElementById("form").addEventListener("submit", function(event) {
    event.preventDefault(); 
    const ratingsElement = document.getElementById('ratings');
    const ratingsValue = ratingsElement.options[ratingsElement.selectedIndex].value;
    const categoryElement = document.getElementById('category');
    const categoryValue = categoryElement.options[categoryElement.selectedIndex].value;
    const formData = new FormData(this);

    const mailtoUrl = "mailto:mayuran.20231047@iit.ac.lk" + 
                      "?subject=" + encodeURIComponent("New Feedback Submission") +
                      "&body=" + encodeURIComponent("Name: " + formData.get('fullname') + "\nEmail: " + formData.get('emailaddress') + "\nRatings: " + ratingsValue + "\nCategory: " + categoryValue + "\nMessage: " + formData.get('message'));
    window.location.href = mailtoUrl;
    openconfirmation();
});
function openconfirmation() {
  document.getElementById("confirmationContainer").style.display = "block";
}

});

  </script>
  </body>
</html>